!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelectorAll(".formelement__wrapper");t&&(document.querySelector("body").addEventListener("click",(function(e){e.target.closest(".formelement__wrapper")||t.forEach((function(e){e.classList.remove("formelement__wrapper--active")}))})),t.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".formelement__wrapper");t.classList.contains("formelement__wrapper--active")?t.classList.contains("formelement__wrapper--select")&&t.classList.remove("formelement__wrapper--active"):t.classList.add("formelement__wrapper--active")}))})));var o=e.querySelectorAll(".formelement--select");o&&(document.querySelector("body").addEventListener("click",(function(e){var t=e.target.closest(".formelement--select");o.forEach((function(e){(t&&e!=t||!t)&&e.classList.remove("formelement--active")}))})),o.forEach((function(e){var t=e.querySelector(".formelement__option--placeholder");e.addEventListener("click",(function(e){var o=e.target.closest(".formelement__option:not(.formelement__option--selected)"),n=e.target.closest(".formelement--select"),r=e.target.closest(".formelement__wrapper"),a=r.querySelector(".formelement__value"),l=r.querySelector(".formelement__selected");if(o&&a){var c=o.cloneNode(!0);if(c.classList.add("formelement__option--selected"),n.classList.contains("formelement--select-multi")){if(o.classList.contains("formelement__option--active")?(o.classList.remove("formelement__option--active"),n.querySelector('.formelement__option--selected[data-value="'.concat(o.dataset.value,'"]')).remove()):(o.classList.add("formelement__option--active"),l.append(c)),n.querySelectorAll(".formelement__option--active").length){t.remove();var s=n.querySelectorAll(".formelement__option--selected"),i=[];s.forEach((function(e){i.push(e.dataset.value)})),a.value=i.join(", "),n.classList.remove("formelement--placeholder")}else l.append(t),a.value="",n.classList.add("formelement--placeholder");if(e.target.closest(".formelement__options"))return}else l.innerHTML="",a.value=o.dataset.value,l.append(c);n.classList.remove("formelement--placeholder")}n.classList.contains("formelement--active")?n.classList.remove("formelement--active"):n.classList.add("formelement--active")}))})))};document.addEventListener("DOMContentLoaded",(function(){})),window.addEventListener("ajaxLoaded",(function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e(t)}(t.detail.target)}));var t=new CustomEvent("ajaxLoaded",{detail:{target:document.querySelector("body")}});window.addEventListener("load",(function(){window.dispatchEvent(t)}))}));

.navigation{
  &__list{
    margin:0;
    padding:0;
    list-style:none;
  }

  &--main{
    .navigation{
      
      &__wrapper{
        overflow:hidden;
        overflow-y: auto;

        -ms-overflow-style: none;
        scrollbar-width: none;
        &::-webkit-scrollbar {
          display: none;
        }
      }

      &__list{

        &--level-0{
          position:relative;
          transition:.3s;
          margin-left:calc(var(--active-level) * -100%);
          width:100%;
        }

        &--subnavigation{
          // margin-bottom:-100%;
          position: absolute;
          height:100%;
          transform: translateX(100%);
          top: 0;
          display:none;
        }

        &--active{
          display:block;
        }
      }

      &__element-wrapper{
        position:relative;
      }

      &__element{
        display:flex;

        &--breadcrumb{
          opacity:.7;
          display: flex;
          margin-bottom: $grid-gutter-width;

          .navigation__link{
            font-size: $font-size-xs;
            cursor:pointer;
            width:auto;
            flex-shrink:1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: inline-block;
            position: relative;

            &:hover{
              color:$primary;
            }

            &:not(:last-child){
              padding-right: 10px;

              &:after{
                content:" Â· ";
                position: absolute;
                right: 3px;
              }
            }
          }
        }

        >*{
          width:100%;
          flex-shrink:0;
        }
      }

      &__subnavigation-trigger{
        position: absolute;
        right: 0;
        width: auto;
        min-width: $grid-gutter-width;
      }
    }
  }
}

@include media-breakpoint-up(sm){
  .navigation{
    &--main{
      .navigation{
        &__element{
          align-self:flex-start;

          &:hover{
            >ul{
              display:block;
            }
          }
        }

        &__element-wrapper{
          z-index:999;
        }

        &__list{
          &--subnavigation{
            padding-top:$grid-gutter-width;
          }

          &--level-0{
            display:flex;
            margin-left: 0;
          }

          &--level-1{
            transition:.3s;
            margin-left: calc(-100% * var(--active-level));
            transform: none;
            left: 0;
            top: initial;
          }
        }
      }
    }
  }
}

@include media-breakpoint-up(md){
  .navigation{
    &--main{
      position:static;
      
      .navigation{
        &__list{
          &--level-0{
            position:static;
          }

          &--level-1{
            margin-left: 0;
          }

          &--subnavigation{
            &:not(.navigation__list--level-1){
              transform: translateX(calc(100% / var(--level-reverse)));
              transform: translateX(25%);
              padding-top: $grid-gutter-width;
            }

            .navigation{
              &__element-wrapper{
                width: calc(100% / var(--level-reverse));
                width: 25%;
              }
            }
          }
        }

        &__element{
          &--breadcrumb{
            display:none;
          }

          &:hover{
            >ul{
              display:block;
            }
          }
        }
      }
    }
  }
}

// .navigation{
//   &__wrapper{   
//     list-style: none;
//     padding:0;
//     transition: .3s;

//     &--level-0{
//       margin-left: calc(-100% * var(--active-level));
//     }
//   }

//   &__element{
//     display: flex;
//     justify-content: space-between;
//   }

//   &__link{
//     flex-grow:1;
//     padding-left: $grid-gutter-width/2;
//     padding-right: $grid-gutter-width/2;
//     transition:.3s;

//     &:hover{
//       opacity:.8;
//     }
//   }

//   &__subnavigation-trigger{
//     min-width: $grid-gutter-width;
//   }

//   .subnavigation{
//     &__wrapper{
//       flex-wrap: nowrap;

//       &--active{
//         z-index:99;
//       }

//       > *{
//         width:100%;
//         flex-shrink:0;
//       }
//     }
//   }

//   &__subnavigation{
//     // position: absolute;
//     background-color: $white;

//     .navigation{
//       &__wrapper{
//         &:not(:first-child){
//           margin-left:-100%;
//         }

//         &--active{
//           background: $white;
//           z-index: 99;
//         }
//       }

//       &__link{
//         padding-left:0;
//         padding-right:0;
//         flex-shrink:0;
//       }

//       &__element{
//         display:flex;

//         .navigation{
//           &__wrapper{
//             width:100%;
//             flex-shrink:0;
//             margin-bottom: -100%;
//             margin-left: 0;
//           }
//         }
//       }
//     }
//   }

//   &--main{
//     display:flex; 
//     overflow:hidden;

//     >*{
//       width:100%;
//       flex-shrink:0;
//     }

//     .navigation{
//       &--level-0{
//         display:block;
//       }

//       &__link{
//         padding-left: 0;
//         padding-right: 0;
//       }
//     }
//   }
// }

// @include media-breakpoint-up(sm){
//   .navigation{
//     &--main{
//       overflow:visible;
//       position:static;

//       .navigation{
//         &__wrapper{
//           &--level-0{
//             display:flex;
//           }
//         }

//         &__link{
//           padding-left: $grid-gutter-width/2;
//           padding-right: $grid-gutter-width/2;
//         }
//       }
//     }

//     &__wrapper{
//       margin:0 $grid-gutter-width/-2;

//       &--level-0{
//         margin-left:0;
//       }
//     }

//     &__link{
      
//     }

//     &__subnavigation{
//       position:absolute;
//       z-index:99;
//       width: 100vw;
//       left: 50%;
//       bottom: 0;
//       transform: translate(-50%, 100%);
//       background-color: lighten($gray, 0.75);

//       &__wrapper{
//         overflow:hidden;
//       }

//       .navigation{
//         &__wrapper{
//           display:none;

//           &--active, &--open{
//             display:block;
//             background-color: lighten($gray, .75);
//           }

//           &--level-1{
//             margin-left: calc(-100% * var(--active-level)) !important;
//           }

//           &:not(:first-child){
//             margin-left:0;
//           }
//         }
//       }
//     }
//   }
// }

// @include media-breakpoint-up(lg){
//   .navigation{

//     &__subnavigation-back{
//       display:none;
//     }

//     .subnavigation{
//       &__wrapper{
//         >*{
//           width:25%;
          
//           .subnavigation{
//             width:75%;
//           }
//         }
//       }

//       .navigation{
//         &__wrapper{
//           &--level-1{
//             margin-left:0 !important;
//           }
//         }
//       }
//     }
//   }
// }